:root{
  --bg: #FBF8FF;
  --surface: #FFFFFF;
  --primary: #8E7CF9;
  --on-primary: #fff;
  --muted: #625D6C;
  --accent: #FFD1DC;
  font-family: Inter, Roboto, system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#FBF8FF,#FFFFFF);color:var(--muted);min-height:100vh;display:flex;flex-direction:column}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:14px;background:linear-gradient(90deg,var(--primary),#BBA7FF);color:var(--on-primary)}
.topbar h1{margin:0;font-size:18px}
.right-controls{display:flex;align-items:center;gap:8px}
.avatar{width:40px;height:40px;border-radius:12px;background:linear-gradient(180deg,#fff5f8,#fff);display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 6px 18px rgba(16,16,20,0.06)}
.icon-btn{background:transparent;border:none;color:inherit;font-size:22px;cursor:pointer}
.container{padding:14px;flex:1;display:flex;flex-direction:column;gap:12px}

/* add row */
.input-row{display:flex;gap:8px;align-items:center;background:linear-gradient(180deg,#fff,#fdfbff);padding:10px;border-radius:12px;box-shadow:0 8px 30px rgba(14,12,20,0.04)}
.input-row input,input[type=time],select,input[type=number]{padding:8px;border-radius:8px;border:1px solid #f0ecf8;background:transparent}
.input-row label{font-size:12px}
.input-row button{padding:8px 10px;border-radius:8px;border:none;background:var(--primary);color:var(--on-primary);cursor:pointer}
.input-row .ghost{background:transparent;color:var(--primary)}

/* tabs */
.tabs{display:flex;gap:8px}
.tab{padding:8px 12px;border-radius:10px;background:transparent;border:none;cursor:pointer;color:var(--primary)}
.tab.active{background:linear-gradient(90deg,#fff,#fff);box-shadow:0 6px 18px rgba(16,16,20,0.04)}

/* stats inline */
.stats-inline{display:flex;gap:10px}
.stat.small{background:linear-gradient(180deg,#fff,#fff);padding:10px;border-radius:10px;box-shadow:0 6px 18px rgba(16,16,20,0.04);text-align:center;flex:1;font-size:13px}

/* habits */
.habits{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.habit-card{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:linear-gradient(180deg,#fff,#fff);border-radius:12px;box-shadow:0 8px 30px rgba(16,16,20,0.04);transition:transform .18s ease}
.habit-card:active{transform:scale(.995)}
.habit-card .left{display:flex;align-items:center;gap:12px;min-width:0}
.check-btn{width:48px;height:48px;border-radius:12px;border:none;background:linear-gradient(180deg,#f0f7ff,#eef7ff);font-weight:700;font-size:18px;cursor:pointer;flex-shrink:0}
.details .title{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.details .meta{font-size:12px;color:var(--muted);margin-top:4px}
.progress-bar{width:120px;height:8px;background:#f3f1fa;border-radius:8px;margin-top:8px;overflow:hidden}
.progress{height:100%;width:0%;background:linear-gradient(90deg,#A3F7C6,#8E7CF9)}

/* right */
.right{display:flex;align-items:center;gap:8px}
.streak{font-size:13px;color:#ff6b35;min-width:56px;text-align:right}
.xp{font-size:12px;color:var(--muted);min-width:72px;text-align:right}
.actions button{background:transparent;border:none;font-size:16px;cursor:pointer;padding:6px}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(16,16,20,0.2);backdrop-filter:blur(6px)}
.modal-card{background:var(--surface);padding:18px;border-radius:12px;max-width:320px;box-shadow:0 14px 40px rgba(16,16,20,0.12);text-align:center}
.quote{font-weight:700;margin-bottom:8px}
.modal-actions{display:flex;justify-content:center;gap:10px}

/* confetti */
.confetti{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden}
.confetti .piece{position:absolute;width:10px;height:14px;opacity:0;animation:fall 1100ms linear forwards}
@keyframes fall{to{transform:translateY(700px) rotate(360deg);opacity:1}}

/* footer */
.footer-note{text-align:center;color:var(--muted);font-size:12px;margin-top:6px}

/* responsive */
@media (max-width:420px){.input-row{flex-wrap:wrap}.details .title{max-width:120px}}